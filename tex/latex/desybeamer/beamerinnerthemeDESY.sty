% Latex-Beamer Template DESY
% version 1.0
% based upon beamer theme for Juelich by i.kabadshow@fz-juelich.de

\mode<presentation>

\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing,calc,tikzmark}

\setlength\leftmargin{0cm}% 2ex+0.75ex (1/2)
\setlength\rightmargin{0cm}% 2ex+0.75ex (1/2)

\setlength\leftmargini{2.75ex}
\setlength\leftmarginii{2.75ex}  % 2ex+0.75ex (1/2)
\setlength\leftmarginiii{2.75ex}

\setbeamersize{text margin left=0.55cm}
\setbeamersize{text margin right=0.55cm}

%institute
\def\beamer@andinst{~~}


%%% Title page: DESY
% Clear Background
\defbeamertemplate*{background}{DESYTitle}{}
\defbeamertemplate*{background canvas}{DESYTitle}{}
\defbeamertemplate*{sidebar canvas left}{DESYTitle}{}

\defbeamertemplate*{title page}{DESY}{
	\@tempdima=\textwidth%
	\advance\@tempdima by\beamer@leftmargin%
	\advance\@tempdima by\beamer@rightmargin%
	\vskip-20pt%
	% Do NOT add the DESY dot: it is not round in Liberation Sans
	\begin{beamercolorbox}[sep=0.53cm,wd=\the\@tempdima]{title}
		\usebeamerfont{title}\inserttitle\par%
	\end{beamercolorbox}%
	\ifx\insertsubtitle\@empty%
	\else%
	\begin{beamercolorbox}[sep=0.55cm,left,wd=\the\@tempdima]{subtitle}
		{\usebeamerfont{subtitle}\insertsubtitle\par}%
	\end{beamercolorbox}

	% \begin{beamercolorbox}[sep=0.55cm,wd=\the\@tempdima,left]{author}
	% Set the box width to only 50% of the text width. This avoids
	% covering the logo for very long headlines, but requires
	% explicit unindentation.
	\vspace{-.7cm}
	\hspace{0.6\textwidth}\tikzmark{rightancor}\break
	\begin{beamercolorbox}[sep=0.55cm,wd=0.6\textwidth,left]{author}
		\tikzmark{topancor}
		{\usebeamerfont{author}\usebeamercolor[fg]{author}\hspace{-.7ex}\insertauthor}
		\tikzmark{bottomancor}
		% \\$~~$
		\vspace{3ex}
		\break
		{\usebeamerfont{author}\usebeamercolor[fg]{normal text}\insertdate}%
	\end{beamercolorbox}%
	\ifdef{\COLLABORATION}{
		\begin{tikzpicture}[overlay, remember picture]
			\node[anchor=base] (a) at (pic cs:topancor) {\vphantom{h}}; % push the mark to the top of the line (ie including ascenders)
			\node[anchor=base] (b) at (pic cs:bottomancor) {\vphantom{g}}; % push the mark to the bottom of the line (ie including descenders)
			\draw [decoration={brace,amplitude=0.5em},decorate,ultra thick,gray]
			(a.north -| {pic cs:rightancor}) -- (b.south -| {pic cs:rightancor}) node [pos=0.5, anchor=west, align=left, color=black, xshift=1em] {\Large\usebeamercolor[fg]{framesubtitle} \COLLABORATION};
			%  text width=2.8cm,
		\end{tikzpicture}
	}{}
}

\defbeamertemplate*{footline}{DESYTitle}{
	\makebox[\paperwidth]{
		\hspace{1.5em}
		\begin{tikzpicture}
			\node[anchor=south west] at (0,0) (img) {\includegraphics[keepaspectratio,width=2.5cm,height=1.3cm]{img/logos/helmholtzai.pdf}};
			\node[anchor=south west] at (0,.8) {\small \color{helmholtzblue} \textbf{The DeGeSim Project}};
		\end{tikzpicture}
		\hfill
		\includegraphics[keepaspectratio,width=2.5cm,height=1.3cm]{img/logos/uuh.pdf}%
		\hfill
		\includegraphics[keepaspectratio,width=2.5cm,height=1.3cm]{img/logos/juelich.pdf}%
		\hfill
		\includegraphics[keepaspectratio,width=2.5cm,height=1.3cm]{img/logos/trimf.jpg}%
		\hfill
		\includegraphics[keepaspectratio,width=2.5cm,height=1.3cm]{img/DESY_Logo}%
		\hspace{1.5em}
	}
	\vspace{1em}
}





% Part page: DESY
\defbeamertemplate*{part page}{DESY}{
	\@tempdima=\textwidth%
	\advance\@tempdima by\beamer@leftmargin%
	\advance\@tempdima by\beamer@rightmargin%
	\vskip-20pt%
	% For parts: use chapter style, ie. do not repeat the talk title
	% % Do NOT add the DESY dot: it is not round in Liberation Sans
	% \begin{beamercolorbox}[sep=0.55cm,wd=\the\@tempdima]{title}
	%     \usebeamerfont{title}\inserttitle\par%
	% \end{beamercolorbox}%
	\ifx\insertsubtitle\@empty%
	\else%
	\begin{beamercolorbox}[sep=0.54cm,left,wd=\the\@tempdima]{subtitle}
		{\usebeamerfont{title}\usebeamercolor[fg]{title}\insertpart\par}%
	\end{beamercolorbox}
	\vskip1cm
}

% Itemize items, DESY
\defbeamertemplate*{itemize item}{DESY}{\usebeamercolor[fg]{item}\hbox{\textbf{>}}}
\defbeamertemplate*{itemize subitem}{DESY}{\TINY\usebeamercolor[fg]{subitem}\raise1ex\hbox{\vrule width 1ex height 1ex}\hskip1.5ex}
\defbeamertemplate*{itemize subsubitem}{DESY}{\TINY\usebeamercolor[fg]{subitem}\raise1ex\hbox{\vrule width 1ex height 1ex}\hskip1.5ex}

% Enumerate items, DESY
\setbeamertemplate{enumerate items}[square]

\mode
<all>
